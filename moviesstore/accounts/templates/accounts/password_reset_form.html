{% extends 'base.html' %}

{% block content %}
<h2>Reset Your Password</h2>

{% if messages %}
  <ul>
    {% for message in messages %}
      <li style="color: green;">{{ message }}</li>
    {% endfor %}
  </ul>
{% endif %}

{% if template_data.error %}
  <p style="color: red;">{{ template_data.error }}</p>
{% endif %}

{% if template_data.message %}
  <p style="color: green;">{{ template_data.message }}</p>
{% endif %}

{% if template_data.email %}
  <!-- Step 2: Show Password Reset Form -->
  <form method="POST">
    {% csrf_token %}
    <input type="password" name="new_password" required placeholder="New Password">
    <input type="password" name="confirm_password" required placeholder="Confirm New Password">
    <button type="submit">Reset Password</button>
  </form>
{% else %}
  <!-- Step 1: Ask for Email -->
  <p>Enter your email address to reset your password.</p>
  <form method="POST">
    {% csrf_token %}
    <input type="email" name="email" required placeholder="Enter your email">
    <button type="submit">Verify Email</button>
  </form>
{% endif %}

{% endblock %}
